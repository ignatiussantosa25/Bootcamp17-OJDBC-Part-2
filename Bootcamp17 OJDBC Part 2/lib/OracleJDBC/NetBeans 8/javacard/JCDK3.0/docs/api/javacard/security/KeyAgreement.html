<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10-beta) on Fri Dec 11 16:07:44 PST 2009 -->
<TITLE>
KeyAgreement (Java Card API, Connected Edition)
</TITLE>

<META NAME="date" CONTENT="2009-12-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KeyAgreement (Java Card API, Connected Edition)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javacard/security/Key.html" title="interface in javacard.security"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javacard/security/KeyBuilder.html" title="class in javacard.security"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?javacard/security/KeyAgreement.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KeyAgreement.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javacard.security</FONT>
<BR>
Class KeyAgreement</H2>
<PRE>
<A HREF="../../java/lang/Object.html" title="class in java.lang">java.lang.Object</A>
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>javacard.security.KeyAgreement</B>
</PRE>
<HR>
<DL>
<DT><PRE><FONT SIZE="-1"><A HREF="../../javacardx/framework/TransactionType.html" title="annotation in javacardx.framework">@TransactionType</A>(<A HREF="../../javacardx/framework/TransactionType.html#value()">value</A>=<A HREF="../../javacardx/framework/TransactionTypeValue.html#SUPPORTS">SUPPORTS</A>)
</FONT>public abstract class <B>KeyAgreement</B><DT>extends <A HREF="../../java/lang/Object.html" title="class in java.lang">Object</A></DL>
</PRE>

<P>
The <CODE>KeyAgreement</CODE> class is the base class for key agreement
 algorithms such as Diffie-Hellman and EC Diffie-Hellman [IEEE P1363].
 Implementations of <CODE>KeyAgreement</CODE> algorithms must extend this
 class and implement all the abstract methods.
 
 A tear or card reset event resets an initialized <CODE>KeyAgreement</CODE>
 object to the state it was in when previously initialized via a call to
 <code>init()</code>.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>Java Card 2.x, Java Card 3.0</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH">ALG_EC_SVDP_DH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 as per [IEEE P1363].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH_KDF">ALG_EC_SVDP_DH_KDF</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 as per [IEEE P1363].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH_PLAIN">ALG_EC_SVDP_DH_PLAIN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 as per [IEEE P1363].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DHC">ALG_EC_SVDP_DHC</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 with cofactor multiplication, as per [IEEE P1363].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DHC_KDF">ALG_EC_SVDP_DHC_KDF</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 with cofactor multiplication, as per [IEEE P1363].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DHC_PLAIN">ALG_EC_SVDP_DHC_PLAIN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 with cofactor multiplication, as per [IEEE P1363].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../java/lang/String.html" title="class in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#SERVICE_NAME">SERVICE_NAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This cryptographic service name, as used to lookup implemented
 algorithms.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#KeyAgreement()">KeyAgreement</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protected constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;short</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#generateSecret(byte[], short, short, byte[], short)">generateSecret</A></B>(byte[]&nbsp;publicData,
               short&nbsp;publicOffset,
               short&nbsp;publicLength,
               byte[]&nbsp;secret,
               short&nbsp;secretOffset)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates the secret data as per the requested algorithm using the
 <code>PrivateKey</code> specified during initialization and the public
 key data provided.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#getAlgorithm()">getAlgorithm</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the KeyAgreement algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../../java/lang/String.html" title="class in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#getAlgorithmName()">getAlgorithmName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the KeyAgreement algorithm name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../javacard/security/KeyAgreement.html" title="class in javacard.security">KeyAgreement</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#getInstance(byte, boolean)">getInstance</A></B>(byte&nbsp;algorithm,
            boolean&nbsp;externalAccess)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <CODE>KeyAgreement</CODE> object instance of the selected
 algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../javacard/security/KeyAgreement.html" title="class in javacard.security">KeyAgreement</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#getInstance(java.lang.String, boolean)">getInstance</A></B>(<A HREF="../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;algorithm,
            boolean&nbsp;externalAccess)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <CODE>KeyAgreement</CODE> object instance of the selected
 algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../javacard/security/KeyAgreement.html" title="class in javacard.security">KeyAgreement</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#getInstance(java.lang.String, java.lang.String, boolean)">getInstance</A></B>(<A HREF="../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;algorithm,
            <A HREF="../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;provider,
            boolean&nbsp;externalAccess)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <CODE>KeyAgreement</CODE> object instance of the selected
 algorithm.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javacard/security/KeyAgreement.html#init(javacard.security.PrivateKey)">init</A></B>(<A HREF="../../javacard/security/PrivateKey.html" title="interface in javacard.security">PrivateKey</A>&nbsp;privKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the object with the given private key.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="../../java/lang/Object.html" title="class in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../java/lang/Object.html#equals(java.lang.Object)">equals</A>, <A HREF="../../java/lang/Object.html#getClass()">getClass</A>, <A HREF="../../java/lang/Object.html#hashCode()">hashCode</A>, <A HREF="../../java/lang/Object.html#notify()">notify</A>, <A HREF="../../java/lang/Object.html#notifyAll()">notifyAll</A>, <A HREF="../../java/lang/Object.html#toString()">toString</A>, <A HREF="../../java/lang/Object.html#wait()">wait</A>, <A HREF="../../java/lang/Object.html#wait(long)">wait</A>, <A HREF="../../java/lang/Object.html#wait(long, int)">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SERVICE_NAME"><!-- --></A><H3>
SERVICE_NAME</H3>
<PRE>
public static final <A HREF="../../java/lang/String.html" title="class in java.lang">String</A> <B>SERVICE_NAME</B></PRE>
<DL>
<DD>This cryptographic service name, as used to lookup implemented
 algorithms.
<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>Java Card 3.0</DD>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.SERVICE_NAME">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALG_EC_SVDP_DH"><!-- --></A><H3>
ALG_EC_SVDP_DH</H3>
<PRE>
public static final byte <B>ALG_EC_SVDP_DH</B></PRE>
<DL>
<DD>Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 as per [IEEE P1363].
 <p>
 Note:
 <ul>
 <li><em>This algorithm computes the SHA-1 message digest of the output
      of the derivation primitive to yeild a 20 byte result.</em>
 <li><em>A call to the getAlgorithm() method of an instance implementing
 this algorithm returns "EC_SVDP_DH_KDF".</em>
 </ul>
 <p>
 The <code>String</code> name equivalent to this algorithm type to use
 as parameter to the <code>getInstance(String algorithm, ...)</code>
 method is <code>"EC_SVDP_DH_KDF"</code>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.ALG_EC_SVDP_DH">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALG_EC_SVDP_DH_KDF"><!-- --></A><H3>
ALG_EC_SVDP_DH_KDF</H3>
<PRE>
public static final byte <B>ALG_EC_SVDP_DH_KDF</B></PRE>
<DL>
<DD>Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 as per [IEEE P1363].
 <p>
 Note:
 <ul>
 <li><em>This algorithm computes the SHA-1 message digest of the output
      of the derivation primitive to yeild a 20 byte result.</em>
 </ul>
 <p>
 The <code>String</code> name equivalent to this algorithm type to use
 as parameter to the <code>getInstance(String algorithm, ...)</code>
 method is <code>"EC_SVDP_DH_KDF"</code>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.ALG_EC_SVDP_DH_KDF">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALG_EC_SVDP_DHC"><!-- --></A><H3>
ALG_EC_SVDP_DHC</H3>
<PRE>
public static final byte <B>ALG_EC_SVDP_DHC</B></PRE>
<DL>
<DD>Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 with cofactor multiplication, as per [IEEE P1363]. (output value is to be
 equal to that from <CODE>ALG_EC_SVDP_DH</CODE>)
 <p>
 Note:
 <li><em>This algorithm computes the SHA-1 message digest of the output
     of the derivation primitive to yeild a 20 byte result.</em>
 <li><em>A call to the getAlgorithm() method of an instance implementing
 this algorithm returns "EC_SVDP_DHC_KDF".</em>
 </ul>
 <p>
 The <code>String</code> name equivalent to this algorithm type to use
 as parameter to the <code>getInstance(String algorithm, ...)</code>
 method is <code>"EC_SVDP_DHC_KDF"</code>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.ALG_EC_SVDP_DHC">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALG_EC_SVDP_DHC_KDF"><!-- --></A><H3>
ALG_EC_SVDP_DHC_KDF</H3>
<PRE>
public static final byte <B>ALG_EC_SVDP_DHC_KDF</B></PRE>
<DL>
<DD>Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 with cofactor multiplication, as per [IEEE P1363]. (output value is to be
 equal to that from <CODE>ALG_EC_SVDP_DH</CODE>)
 <p>
 Note:
 <li><em>This algorithm computes the SHA-1 message digest of the output
     of the derivation primitive to yeild a 20 byte result.</em>
 </ul>
 <p>
 The <code>String</code> name equivalent to this algorithm type to use
 as parameter to the <code>getInstance(String algorithm, ...)</code>
 method is <code>"EC_SVDP_DHC_KDF"</code>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.ALG_EC_SVDP_DHC_KDF">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALG_EC_SVDP_DH_PLAIN"><!-- --></A><H3>
ALG_EC_SVDP_DH_PLAIN</H3>
<PRE>
public static final byte <B>ALG_EC_SVDP_DH_PLAIN</B></PRE>
<DL>
<DD>Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 as per [IEEE P1363].
 <p>
 Note:
 <ul>
 <li><em>This algorithm returns the raw output of the derivation primitive.</em>
 </ul>
 <p>
 The <code>String</code> name equivalent to this algorithm type to use
 as parameter to the <code>getInstance(String algorithm, ...)</code>
 method is <code>"EC_SVDP_DH_PLAIN"</code>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.ALG_EC_SVDP_DH_PLAIN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALG_EC_SVDP_DHC_PLAIN"><!-- --></A><H3>
ALG_EC_SVDP_DHC_PLAIN</H3>
<PRE>
public static final byte <B>ALG_EC_SVDP_DHC_PLAIN</B></PRE>
<DL>
<DD>Elliptic curve secret value derivation primitive, Diffie-Hellman version,
 with cofactor multiplication, as per [IEEE P1363]. (output value is to be
 equal to that from <CODE>ALG_EC_SVDP_DH</CODE>)
 <p>
 Note:
 <li><em>This algorithm returns the raw output of the derivation primitive.</em>
 </ul>
 <p>
 The <code>String</code> name equivalent to this algorithm type to use
 as parameter to the <code>getInstance(String algorithm, ...)</code>
 method is <code>"EC_SVDP_DHC_PLAIN"</code>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#javacard.security.KeyAgreement.ALG_EC_SVDP_DHC_PLAIN">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="KeyAgreement()"><!-- --></A><H3>
KeyAgreement</H3>
<PRE>
protected <B>KeyAgreement</B>()</PRE>
<DL>
<DD>Protected constructor.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getInstance(byte, boolean)"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static final <A HREF="../../javacard/security/KeyAgreement.html" title="class in javacard.security">KeyAgreement</A> <B>getInstance</B>(byte&nbsp;algorithm,
                                             boolean&nbsp;externalAccess)
                                      throws <A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></PRE>
<DL>
<DD>Creates a <CODE>KeyAgreement</CODE> object instance of the selected
 algorithm.
 <p>
 This method returns an instance of the specified algorithm 
 supported by the most preferred provider of this cryptographic service.
 Note that the list of installed providers may be retrieved via
 the <A HREF="../../javacardx/security/CryptoServices.html#getProviders()"><CODE>CryptoServices.getProviders()</CODE></A> method.
 <p>
 A call to this method is equivalent to a call to <A HREF="../../javacard/security/KeyAgreement.html#getInstance(java.lang.String, boolean)"><CODE>getInstance(java.lang.String, boolean)</CODE></A>
 with the <code>algorithm</code> parameter set to the equivalent <code>String</code>
 algorithm name - as listed in the <code>ALG_*</code> constants above.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>algorithm</CODE> - the desired key agreement algorithm Valid codes listed in
            <CODE>ALG_*</CODE> constants above, for example,
            <A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH"><CODE>ALG_EC_SVDP_DH</CODE></A>.<DD><CODE>externalAccess</CODE> - if <code>true</code> indicates that the instance will be
            shared among multiple applet instances and that the
            <code>KeyAgreement</code> instance will also be accessed
            (via a <code>Shareable</code> interface) when the owner of
            the <code>KeyAgreement</code> instance is not the currently
            selected applet. If <code>true</code> or if called from a web
            application the implementation
            must not allocate <code>CLEAR_ON_DESELECT</code> transient
            space for internal data.
<DT><B>Returns:</B><DD>the KeyAgreement object instance of the requested algorithm
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></CODE> - with the following reason codes:
                <ul>
                <li><code>CryptoException.NO_SUCH_ALGORITHM</code> if
                the requested algorithm or shared access mode is not
                supported.
                </ul>
<DD><CODE><A HREF="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if creating an instance of this cryptographic service is
                not granted.</DL>
</DD>
</DL>
<HR>

<A NAME="getInstance(java.lang.String, boolean)"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static final <A HREF="../../javacard/security/KeyAgreement.html" title="class in javacard.security">KeyAgreement</A> <B>getInstance</B>(<A HREF="../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;algorithm,
                                             boolean&nbsp;externalAccess)
                                      throws <A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></PRE>
<DL>
<DD>Creates a <CODE>KeyAgreement</CODE> object instance of the selected
 algorithm.
 <p>
 This method returns an instance of the specified algorithm 
 supported by the most preferred provider of this cryptographic service.
 Note that the list of installed providers may be retrieved via
 the <A HREF="../../javacardx/security/CryptoServices.html#getProviders()"><CODE>CryptoServices.getProviders()</CODE></A> method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>algorithm</CODE> - the desired key agreement algorithm name. Valid names listed
            in <CODE>ALG_*</CODE> constants above, for example,
            <A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH"><CODE>ALG_EC_SVDP_DH</CODE></A>.<DD><CODE>externalAccess</CODE> - if <code>true</code> indicates that the instance will be
            shared among multiple applet instances and that the
            <code>KeyAgreement</code> instance will also be accessed
            (via a <code>Shareable</code> interface) when the owner of
            the <code>KeyAgreement</code> instance is not the currently
            selected applet. If <code>true</code> or if called from a web
            application the implementation
            must not allocate <code>CLEAR_ON_DESELECT</code> transient
            space for internal data.
<DT><B>Returns:</B><DD>the KeyAgreement object instance of the requested algorithm
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></CODE> - with the following reason codes:
                <ul>
                <li><code>CryptoException.NO_SUCH_ALGORITHM</code> if
                the requested algorithm or shared access mode is not
                supported.
                </ul>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</A></CODE> - if <code>algorithm</code> is null.
<DD><CODE><A HREF="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if creating an instance of this cryptographic service is
                not granted.<DT><B>Since:</B></DT>
  <DD>Java Card 3.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getInstance(java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static final <A HREF="../../javacard/security/KeyAgreement.html" title="class in javacard.security">KeyAgreement</A> <B>getInstance</B>(<A HREF="../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;algorithm,
                                             <A HREF="../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;provider,
                                             boolean&nbsp;externalAccess)
                                      throws <A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></PRE>
<DL>
<DD>Creates a <CODE>KeyAgreement</CODE> object instance of the selected
 algorithm.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>algorithm</CODE> - the desired key agreement algorithm name. Valid names listed
            in <CODE>ALG_*</CODE> constants above, for example,
            <A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH"><CODE>ALG_EC_SVDP_DH</CODE></A>.<DD><CODE>provider</CODE> - the desired key agreement algorithm provider.<DD><CODE>externalAccess</CODE> - if <code>true</code> indicates that the instance will be
            shared among multiple applet instances and that the
            <code>KeyAgreement</code> instance will also be accessed
            (via a <code>Shareable</code> interface) when the owner of
            the <code>KeyAgreement</code> instance is not the currently
            selected applet. If <code>true</code> or if called from a web
            application the implementation
            must not allocate <code>CLEAR_ON_DESELECT</code> transient
            space for internal data.
<DT><B>Returns:</B><DD>the KeyAgreement object instance of the requested algorithm
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></CODE> - with the following reason codes:
                <ul>
                <li><code>CryptoException.NO_SUCH_ALGORITHM</code> if
                the requested algorithm or shared access mode is not
                supported.
                </ul>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</A></CODE> - if <code>algorithm</code> or <code>provider</code> is null.
<DD><CODE><A HREF="../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if creating an instance of this cryptographic service is
                not granted.<DT><B>Since:</B></DT>
  <DD>Java Card 3.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="init(javacard.security.PrivateKey)"><!-- --></A><H3>
init</H3>
<PRE>
public abstract void <B>init</B>(<A HREF="../../javacard/security/PrivateKey.html" title="interface in javacard.security">PrivateKey</A>&nbsp;privKey)
                   throws <A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></PRE>
<DL>
<DD>Initializes the object with the given private key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privKey</CODE> - the private key
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></CODE> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if the
                input key type is inconsistent with the
                <code>KeyAgreement</code> algorithm, for example, if the
                <code>KeyAgreement</code> algorithm is
                <code>ALG_EC_SVDP_DH</code> and the key type is
                <code>TYPE_RSA_PRIVATE</code>, or if
                <code>privKey</code> is inconsistent with the
                implementation.</li>
                <li><code>CryptoException.UNINITIALIZED_KEY</code> if
                <code>privKey</code> is uninitialized, or if the
                <code>KeyAgreement</code> algorithm is set to
                <CODE>ALG_EC_SVDP_DHC</CODE> and the cofactor, K, has
                not been successfully initialized since the time the
                initialized state of the key was set to false.</li>
                </ul></DL>
</DD>
</DL>
<HR>

<A NAME="getAlgorithm()"><!-- --></A><H3>
getAlgorithm</H3>
<PRE>
public abstract byte <B>getAlgorithm</B>()</PRE>
<DL>
<DD>Gets the KeyAgreement algorithm. Pre-defined codes listed in <code>ALG_*</code>
 constants above, for example, <A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH_PLAIN"><CODE>ALG_EC_SVDP_DH_PLAIN</CODE></A>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the algorithm code defined above; if the algorithm is not one of the pre-defined
         algorithms, <code>0</code> is returned.</DL>
</DD>
</DL>
<HR>

<A NAME="getAlgorithmName()"><!-- --></A><H3>
getAlgorithmName</H3>
<PRE>
public abstract <A HREF="../../java/lang/String.html" title="class in java.lang">String</A> <B>getAlgorithmName</B>()</PRE>
<DL>
<DD>Gets the KeyAgreement algorithm name. Pre-defined codes listed for each of the <code>ALG_*</code>
 constants above, for example, <A HREF="../../javacard/security/KeyAgreement.html#ALG_EC_SVDP_DH_PLAIN"><CODE>ALG_EC_SVDP_DH_PLAIN</CODE></A>.
 <p>
 New algorithms may be defined through the <em>Extensible Cryptography Framework</em>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the algorithm name.<DT><B>Since:</B></DT>
  <DD>Java Card 3.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="generateSecret(byte[], short, short, byte[], short)"><!-- --></A><H3>
generateSecret</H3>
<PRE>
public abstract short <B>generateSecret</B>(byte[]&nbsp;publicData,
                                     short&nbsp;publicOffset,
                                     short&nbsp;publicLength,
                                     byte[]&nbsp;secret,
                                     short&nbsp;secretOffset)
                              throws <A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></PRE>
<DL>
<DD>Generates the secret data as per the requested algorithm using the
 <code>PrivateKey</code> specified during initialization and the public
 key data provided.
 
 Note that in the case of the algorithms <CODE>ALG_EC_SVDP_DH</CODE> and
 <CODE>ALG_EC_SVDP_DHC</CODE> the public key data provided should be the
 public elliptic curve point of the second party in the protocol,
 specified as per ANSI X9.62. A specific implementation need not support
 the compressed form, but must support the uncompressed form of the point.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>publicData</CODE> - buffer holding the public data of the second party<DD><CODE>publicOffset</CODE> - offset into the publicData buffer at which the data begins<DD><CODE>publicLength</CODE> - byte length of the public data<DD><CODE>secret</CODE> - buffer to hold the secret output<DD><CODE>secretOffset</CODE> - offset into the secret array at which to start writing the
            secret
<DT><B>Returns:</B><DD>byte length of the secret
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../javacard/security/CryptoException.html" title="class in javacard.security">CryptoException</A></CODE> - with the following reason codes:
                <ul>
                <li><code>CryptoException.ILLEGAL_VALUE</code> if the
                <code>publicData</code> data format is incorrect, or if
                the <code>publicData</code> data is inconsistent with
                the <code>PrivateKey</code> specified during
                initialization.
                <li><code>CryptoException.INVALID_INIT</code> if this
                <code>KeyAgreement</code> object is not initialized.
                </ul></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javacard/security/Key.html" title="interface in javacard.security"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javacard/security/KeyBuilder.html" title="class in javacard.security"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?javacard/security/KeyAgreement.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KeyAgreement.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href=../../COPYRIGHT_jcspecs.html>Copyright</a> (c) 2009 Sun Microsystems, Inc. All rights reserved.
</BODY>
</HTML>
